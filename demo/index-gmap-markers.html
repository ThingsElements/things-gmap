<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>things-gmap-markers Demo</title>
    <script src="../../webcomponentsjs/webcomponents-lite.min.js"></script>

    <link rel="import" href="../things-gmap-markers.html">

    <style is="custom-style">
    google-map{
      width: 100%;
      height: 480px;
    }

    :root {
    }

    </style>
  </head>
  <body unresolved>

    <p>An example of <code>&lt;things-gmap-markers&gt;</code>:</p>

    <template is="dom-bind" id="app">

      <google-map id="map"
                  latitude="32"
                  longitude="144"
                  map="{{map}}"
                  zoom="2">
      </google-map>

      <things-gmap-markers map="[[map]]"
                           markers="[[markers]]">
      </things-gmap-markers>
    </template>

    <script>

      var app = document.querySelector('#app')

      app.markers = []

      for(var i = 0;i < 10;i++) {
        app.markers.push({
          lat: 60 * Math.random(),
          lng: -177 + 177 * Math.random(),
          open: true
        })
      }

      setInterval(function() {
        app.markers = app.markers.map(function(marker) {
          return {
            lat: marker.lat + -1 + 2 * Math.random(),
            lng: marker.lng + -1 + 2 * Math.random(),
            open: marker.open
          }
        })
      }, 500)

    </script>

  </body>
</html>
